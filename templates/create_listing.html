<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Property Listing</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(to right, #e0f7fa, #e1bee7);
            font-family: Arial, sans-serif;
        }
        .container {
            margin-top: 50px;
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #343a40;
        }
        label {
            font-weight: bold;
        }
        .form-control:focus {
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
            border-color: #007bff;
        }
        .btn-primary {
            width: 100%;
            font-size: 18px;
            font-weight: bold;
        }
        .info-text {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 10px;
        }
        .btn-back {
            margin-bottom: 20px;
        }
        .dropdown-toggle::after {
            display: none;
        }
        .custom-dropdown {
            cursor: pointer;
            padding: 10px;
            background-color: #f1f1f1;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 16px;
        }
        .custom-dropdown:focus {
            border-color: #007bff;
        }
        .section-title {
            margin-top: 40px;
            text-align: center;
            color: #673ab7;
            border-bottom: 3px solid #673ab7;
            display: inline-block;
            padding-bottom: 5px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Back to Home Button -->
        <div class="mb-4">
            <a href="{{ url_for('home') }}" class="btn btn-secondary"><i class="bi bi-house-door"></i> Back to Home</a>
        </div>

        <h2>Create a Property Listing</h2>
        <form action="/create-listing" method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="name" class="form-label">Property Name</label>
                <input type="text" name="name" id="name" class="form-control" placeholder="Enter the property name" required>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea name="description" id="description" class="form-control" rows="4" placeholder="Provide a brief description of the property" required></textarea>
            </div>
            <div class="mb-3">
                <label for="starting_price" class="form-label">Starting Price (à§³)</label>
                <input type="number" step="0.01" name="starting_price" id="starting_price" class="form-control" placeholder="Enter the starting price" required>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="starting_date" class="form-label">Starting Date</label>
                    <input type="date" name="starting_date" id="starting_date" class="form-control" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="starting_time" class="form-label">Starting Time</label>
                    <input type="time" name="starting_time" id="starting_time" class="form-control" required>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="ending_date" class="form-label">Ending Date</label>
                    <input type="date" name="ending_date" id="ending_date" class="form-control" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="ending_time" class="form-label">Ending Time</label>
                    <input type="time" name="ending_time" id="ending_time" class="form-control" required>
                </div>
            </div>

            <div class="mb-3">
                <label for="city" class="form-label">City</label>
                <select name="city" id="city" class="form-control custom-dropdown" required>
                    <option value="" disabled selected>Select City</option>
                    <option value="Dhaka">Dhaka</option>
                    <option value="Chittagong">Chittagong</option>
                    <option value="Rajshahi">Rajshahi</option>
                    <option value="Khulna">Khulna</option>
                    <option value="Sylhet">Sylhet</option>
                    <option value="Barisal">Barisal</option>
                    <option value="Rangpur">Rangpur</option>
                    <option value="Mymensingh">Mymensingh</option>
                    <option value="Tangail">Tangail</option>
                    <option value="Narayanganj">Narayanganj</option>
                    <option value="Comilla">Comilla</option>
                    <option value="Narsingdi">Narsingdi</option>
                    <option value="Faridpur">Faridpur</option>
                    <option value="Jessore">Jessore</option>
                    <option value="Brahmanbaria">Brahmanbaria</option>
                    <option value="Shariatpur">Shariatpur</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="area" class="form-label">Area</label>
                <select name="area" id="area" class="form-control custom-dropdown" required>
                    <option value="" disabled selected>Select Area</option>
                    <!-- Areas will be dynamically populated based on city selection -->
                </select>
            </div>

            <div class="mb-3">
                <label for="road" class="form-label">Road</label>
                <input type="text" name="road" id="road" class="form-control" placeholder="Enter the road" required>
            </div>

            <div class="mb-3">
                <label for="contact_info" class="form-label">Contact Information</label>
                <input type="text" name="contact_info" id="contact_info" class="form-control" placeholder="Enter contact information (e.g., phone or email)" required>
            </div>

            <div class="mb-3">
                <label for="images" class="form-label">Upload Images</label>
                <input type="file" name="images" id="images" class="form-control" multiple>
                <p class="info-text">You can upload multiple images. Accepted formats: JPG, PNG, JPEG.</p>
            </div>

            <button type="submit" class="btn btn-primary">Create Listing</button>
        </form>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS for Dynamic Area Selection -->
    <script>
        const areasByCity = {
            "Dhaka": [
                "Gulshan", "Dhanmondi", "Uttara", "Banani", "Motijheel", "Mirpur", "Mohammadpur", "Bashundhara", "Shahbagh", "Khilgaon", "Badda", "Tejgaon", "Puran Dhaka", "Kafrul", "Jatrabari", "Rampura"
            ],
            "Chittagong": [
                "Halishahar", "Pahartali", "Karnaphuli", "Lalkhan Bazar", "Chawkbazar", "Kattali", "Bayazid", "Airport", "Foy's Lake", "GEC", "Sagorika", "Panchlaish", "Bandartila", "Kanchana", "Chandgaon"
            ],
            "Rajshahi": [
                "Shalbagan", "Cantonment", "Mohishbathan", "Bodorpur", "Rangamatia", "Motihar", "Newmarket", "Kazla", "Baneshwar", "Shaheb Bazar", "Rajarampur", "Uttarayon", "Bashundhara", "Chandrima"
            ],
            "Khulna": [
                "Sonadanga", "Khalishpur", "Daulatpur", "Bashundhara", "Chandranagar", "Shivpur", "Hazi Akram", "Digholia", "Shibpur", "Moshkanagar", "Bhatiapara"
            ],
            "Sylhet": [
                "Zindabazar", "Shahi Eidgah", "Subidbazar", "Moulvibazar", "Osmani Nagar", "Rashidpur", "Shahporan", "Mirzajangal", "Modina", "Golapganj", "Beanibazar", "Jalalabad"
            ],
            "Barisal": [
                "Kerosindor", "Jhalokathi", "Patuakhali", "Bhola", "Agailjhara", "Barguna", "Pirojpur", "Khepupara", "Tushkhali"
            ],
            "Rangpur": [
                "Rangpur City", "Taraganj", "Kurigram", "Pirganj", "Gaibandha", "Panchagarh"
            ],
            "Mymensingh": [
                "Trishal", "Mymensingh Sadar", "Muktagachha", "Bhaluka", "Fulbaria"
            ],
            "Tangail": [
                "Tangail Sadar", "Madhupur", "Kalihati", "Mirzapur", "Basail"
            ],
            "Narayanganj": [
                "Sadar", "Narayanganj City", "Shiddhirganj", "Rupganj", "Araihazar"
            ],
            "Comilla": [
                "Comilla City", "Laksham", "Nangalkot", "Daudkandi", "Titas", "Chandina", "Homna", "Muradnagar"
            ],
            "Narsingdi": [
                "Narsingdi Sadar", "Raipura", "Shibpur", "Monohordi", "Belabo"
            ],
            "Faridpur": [
                "Faridpur Sadar", "Charbhadrasan", "Madhukhali", "Boalmari", "Rajoir", "Nagarkanda"
            ],
            "Jessore": [
                "Jessore City", "Chaugachha", "Bagherpara", "Sharsa", "Keshabpur", "Manirampur", "Abhaynagar", "Jhikargachha"
            ],
            "Brahmanbaria": [
                "Brahmanbaria City", "Kasba", "Sarail", "Nabinagar", "Ashuganj"
            ],
            "Shariatpur": [
                "Shariatpur Sadar", "Gosairhat", "Zajira", "Naria", "Bhedorgachha"
            ]
        };

        const citySelect = document.getElementById('city');
        const areaSelect = document.getElementById('area');

        citySelect.addEventListener('change', function() {
            const selectedCity = this.value;
            const areas = areasByCity[selectedCity] || [];
            
            areaSelect.innerHTML = '<option value="" disabled selected>Select Area</option>';
            
            areas.forEach(area => {
                const option = document.createElement('option');
                option.value = area;
                option.textContent = area;
                areaSelect.appendChild(option);
            });
        });
    </script>
</body>
</html>
